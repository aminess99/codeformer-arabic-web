# CodeFormer - ูุงุฌูุฉ ุงูููุจ

## ูุธุฑุฉ ุนุงูุฉ
ูุฐุง ูู ุชุทุจูู ููุจ ูู CodeFormer ูุชูุญ ูููุณุชุฎุฏููู ุฑูุน ุงูุตูุฑ ููุนุงูุฌุชูุง ุจุงุณุชุฎุฏุงู ุชูููุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุงุณุชุนุงุฏุฉ ูุชุญุณูู ุงููุฌูู.

## ุงูููุฒุงุช
- ๐ญ **ุงุณุชุนุงุฏุฉ ุงููุฌูู**: ุชุญุณูู ุฌูุฏุฉ ุงููุฌูู ูู ุงูุตูุฑ ุงููุฏููุฉ ุฃู ุงููุดููุฉ
- ๐จ **ุงูุชูููู ุงูุชููุงุฆู**: ุฅุถุงูุฉ ุงูุฃููุงู ููุตูุฑ ุจุงูุฃุจูุถ ูุงูุฃุณูุฏ
- ๐ผ๏ธ **ููุก ุงููุฑุงุบุงุช**: ุฅุตูุงุญ ุงูุฃุฌุฒุงุก ุงูููููุฏุฉ ูู ุงูุตูุฑ
- โก **ูุนุงูุฌุฉ ุณุฑูุนุฉ**: ูุชุงุฆุฌ ุนุงููุฉ ุงูุฌูุฏุฉ ูู ููุช ููุงุณู
- ๐ฑ **ุชุตููู ูุชุฌุงูุจ**: ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ
- ๐ **ูุงุฌูุฉ ุนุฑุจูุฉ**: ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉ

## ูุชุทูุจุงุช ุงููุธุงู
- Python 3.8 ุฃู ุฃุญุฏุซ
- CUDA (ุงุฎุชูุงุฑู ูููุนุงูุฌุฉ ุงูุณุฑูุนุฉ)
- ุฐุงูุฑุฉ ูุตูู ุนุดูุงุฆู: 8GB ุนูู ุงูุฃูู
- ูุณุงุญุฉ ุชุฎุฒูู: 5GB ุนูู ุงูุฃูู

## ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุชุซุจูุช ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
```bash
# ุชุซุจูุช ูุชุทูุจุงุช CodeFormer ุงูุฃุณุงุณูุฉ
pip install -r requirements.txt
python basicsr/setup.py develop

# ุชุซุจูุช ูุชุทูุจุงุช ุงูุฎุงุฏู ุงูุฅุถุงููุฉ
pip install -r web_requirements.txt
```

### 2. ุชุญููู ุงูููุงุฐุฌ ุงููุฏุฑุจุฉ ูุณุจูุงู
```bash
# ุชุญููู ููุงุฐุฌ facelib
python scripts/download_pretrained_models.py facelib

# ุชุญููู ููุงุฐุฌ CodeFormer
python scripts/download_pretrained_models.py CodeFormer

# ุชุญููู ููุงุฐุฌ dlib (ุงุฎุชูุงุฑู)
python scripts/download_pretrained_models.py dlib
```

### 3. ุชุดุบูู ุงูุฎุงุฏู
```bash
python web_server.py
```

### 4. ูุชุญ ุงููุชุตูุญ
ุงูุชุญ ุงููุชุตูุญ ูุงูุชูู ุฅูู:
```
http://localhost:5000
```

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุฑูุน ุงูุตูุฑุฉ
- ุงุถุบุท ุนูู ููุทูุฉ ุงูุฑูุน ุฃู ุงุณุญุจ ุงูุตูุฑุฉ ุฅูููุง
- ุงูุตูุบ ุงููุฏุนููุฉ: JPG, PNG, WEBP
- ุงูุญุฏ ุงูุฃูุตู ูุญุฌู ุงูููู: 10MB

### 2. ุถุจุท ุงูุฅุนุฏุงุฏุงุช
- **ูุณุชูู ุงูุฏูุฉ (w)**: ูุชุฑุงูุญ ูู 0 ุฅูู 1
  - ููู ุฃูู (0.1-0.3): ุฌูุฏุฉ ุฃุนููุ ุฏูุฉ ุฃูู
  - ููู ุฃุนูู (0.7-1.0): ุฏูุฉ ุฃุนููุ ุฌูุฏุฉ ุฃูู
  - ุงููููุฉ ุงููููุตู ุจูุง: 0.5

- **ููุน ุงููุนุงูุฌุฉ**:
  - ุงุณุชุนุงุฏุฉ ุงููุฌู: ููุตูุฑ ุงูุนุงุฏูุฉ
  - ุงูุชูููู: ููุตูุฑ ุจุงูุฃุจูุถ ูุงูุฃุณูุฏ
  - ููุก ุงููุฑุงุบุงุช: ููุตูุฑ ุงูุชุงููุฉ

### 3. ูุนุงูุฌุฉ ุงูุตูุฑุฉ
- ุงุถุบุท ุนูู ุฒุฑ "ูุนุงูุฌุฉ ุงูุตูุฑุฉ"
- ุงูุชุธุฑ ุญุชู ุงูุชูุงู ุงููุนุงูุฌุฉ
- ุณุชุธูุฑ ุงููุชูุฌุฉ ูุน ููุงุฑูุฉ ุจูู ุงูุตูุฑุฉ ุงูุฃุตููุฉ ูุงููุญุณูุฉ

### 4. ุชุญููู ุงููุชูุฌุฉ
- ุงุถุบุท ุนูู ุฒุฑ "ุชุญููู ุงููุชูุฌุฉ" ูุญูุธ ุงูุตูุฑุฉ ุงููุญุณูุฉ

## ูููู ุงููููุงุช
```
CodeFormer/
โโโ web_interface.html      # ูุงุฌูุฉ ุงููุณุชุฎุฏู
โโโ web_server.py           # ุงูุฎุงุฏู ุงูุฎููู
โโโ web_requirements.txt    # ูุชุทูุจุงุช ุงูุฎุงุฏู
โโโ WEB_README.md          # ูุฐุง ุงูููู
โโโ weights/               # ุงูููุงุฐุฌ ุงููุฏุฑุจุฉ
    โโโ CodeFormer/
    โโโ facelib/
```

## API ุงููุชุงุญ

### POST /api/process
ูุนุงูุฌุฉ ุงูุตูุฑุฉ

**ุงููุนุงููุงุช:**
```json
{
  "image": "data:image/jpeg;base64,...",
  "w": 0.5,
  "mode": "restoration"
}
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "result_image": "data:image/png;base64,..."
}
```

### GET /api/status
ุญุงูุฉ ุงูุฎุงุฏู

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "status": "running",
  "device": "cuda",
  "model_loaded": true
}
```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ ูุญููููุง

1. **ุฎุทุฃ ูู ุชุญููู ุงููููุฐุฌ**
   ```
   ุชุฃูุฏ ูู ุชุญููู ุงูููุงุฐุฌ ุงููุฏุฑุจุฉ ูุณุจูุงู:
   python scripts/download_pretrained_models.py CodeFormer
   ```

2. **ููุงุฏ ุงูุฐุงูุฑุฉ**
   ```
   ููู ูู ุญุฌู ุงูุตูุฑุฉ ุฃู ุงุณุชุฎุฏู CPU ุจุฏูุงู ูู GPU
   ```

3. **ุจุทุก ูู ุงููุนุงูุฌุฉ**
   ```
   ุชุฃูุฏ ูู ุชุซุจูุช CUDA ูููุนุงูุฌุฉ ุงูุณุฑูุนุฉ
   ```

4. **ุฎุทุฃ ูู ุงูุงุชุตุงู**
   ```
   ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู ุนูู ุงููููุฐ 5000
   ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุฌุฏุงุฑ ุงููุงุฑู
   ```

## ุงูุชุฎุตูุต

### ุชุบููุฑ ุงููููุฐ
ุนุฏูู ุงูุณุทุฑ ุงูุฃุฎูุฑ ูู `web_server.py`:
```python
app.run(host='0.0.0.0', port=8080, debug=True)
```

### ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ
- ุนุฏูู `web_server.py` ูุฅุถุงูุฉ endpoints ุฌุฏูุฏุฉ
- ุนุฏูู `web_interface.html` ูุฅุถุงูุฉ ุนูุงุตุฑ ูุงุฌูุฉ ุฌุฏูุฏุฉ

## ุงูุฃูุงู

โ๏ธ **ุชุญุฐูุฑุงุช ูููุฉ:**
- ูุฐุง ุงูุฎุงุฏู ููุตูู ููุงุณุชุฎุฏุงู ุงููุญูู ููุท
- ูุง ุชุณุชุฎุฏูู ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ ุจุฏูู ุฅุนุฏุงุฏุงุช ุฃูุงู ุฅุถุงููุฉ
- ุชุฃูุฏ ูู ุชุดููุฑ ุงูุงุชุตุงูุงุช ูู ุงูุจูุฆุงุช ุงูุนุงูุฉ

## ุงูุฏุนู

ููุญุตูู ุนูู ุงููุณุงุนุฏุฉ:
1. ุชุญูู ูู [ุงููุณุชูุฏุน ุงูุฃุตูู](https://github.com/sczhou/CodeFormer)
2. ุฑุงุฌุน [ุงููุซุงุฆู ุงูุฑุณููุฉ](https://shangchenzhou.com/projects/CodeFormer/)
3. ุงุจุญุซ ูู [ุงููุดุงูู ุงููุนุฑููุฉ](https://github.com/sczhou/CodeFormer/issues)

## ุงูุชุฑุฎูุต
ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช [NTU S-Lab License 1.0](LICENSE)

---

**ููุงุญุธุฉ:** ูุฐู ูุงุฌูุฉ ููุจ ุบูุฑ ุฑุณููุฉ ูู CodeFormer. ููุงุณุชุฎุฏุงู ุงูุชุฌุงุฑูุ ูุฑุฌู ูุฑุงุฌุนุฉ ุดุฑูุท ุงูุชุฑุฎูุต ุงูุฃุตููุฉ.